# Skyfire E2E Demo

## Task at hand

In this demo, the agent has been tasked with purchasing -
```
A dataset for pickup truck sales
- Time period: 2024
- Geographic focus: US
- Data points: Sales volumes, pricing trends etc
- Format: CSV or Excel
- Budget: $0.005
```

## Flow

- The buyer agent already has an account with Skyfire and Skyfire's Identity and Payment MCP server is already setup in the buyer agent
- The buyer agent is instructed to acquire a dataset for pickup truck sales in US
- The buyer agent will use Skyfire’s find-seller tool to find a seller for the requested data & retrieves the MCP server URL of the seller (CarbonArc)
Note: 
For this demo, Skyfire works a directory of services from which the CarbonArc MCP Server URL is fetched using find-seller tool. In the future, this could be any registry of services. The official Skyfire Identity & Payment MCP Server will use a resource to get the actual MCP server URL.
- The buyer agent will use Skyfire’s create-kya-token tool to identify the agent
- The buyer agent will use CarbonArc's create-account-and-login tool to create an account with CarbonArc using a session token generated by Ory
- The buyer agent will use CarbonArc’s search-dataset tool to find the right dataset
- The buyer agent will use CarbonArc’s get-pricing tool to get the price of dataset <”Title”>
- The buyer agent will use Skyfire’s create-payment-token tool to make a payment to CarbonArc
- The buyer agent will use CarbonArc’s download-dataset tool to allow CarbonArc to collect the payment and ask for the downloaded dataset

Here is a diagram explaining the flow:
![WebSequence Flow Diagram](https://github.com/skyfire-xyz/skyfire-solutions-demo/blob/main/static/websequence_flow_diagram.png?raw=true)

## Pre-requisites

To run this demo please follow the [Skyfire Platform Setup Guide](https://docs.skyfire.xyz/docs/introduction) to create Skyfire API key, complete Buyer and Seller Onboarding.

Refer to individual README files for installation steps and running commands.

## Contents: 

- MCP Servers:
The following MCP servers are based on the SSE transport protocol.
1. Skyfire Identity & Payment MCP Server
2. CarbonArc MCP Server
3. Reporting MCP Server

- Data Analyst Agent:
This application is designed to demonstrate end-to-end commerce flows using Skyfire technologies. It features an AI agent interface that interacts with services via the Model Context Protocol (MCP) to simulate tool discovery, tool installation, and using the tools leveraging the Vercel AI SDK.

## Installation Steps

1.  Clone the repository:
    ```bash
    git clone https://github.com/skyfire-xyz/skyfire-solutions-demo.git
    ```
